#ifndef SERVER_H
#define SERVER_H

#define BUILD_VERSION "V1.0.0"

enum MESSAGES { MESSAGE_CREATE=1,MESSAGE_LOGIN,MESSAGE_VALIDATE,MESSAGE_SUBMIT,MESSAGE_REQUEST,MESSAGE_CHECKUPDATE,NUM_MESSAGES };

////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Structs
struct server_data {
	int status,bytes,result[4];
	char* data;
};

struct server_struct {
	unsigned char username_[16],password_[32];
	struct server_data sdata_[NUM_MESSAGES-1];
	int scount_[NUM_MESSAGES-1];
	int	signedin_,update_;
};
////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Functions
void init_server();
void process_server();
void render_serverinfo();
void clear_serverdata(int);
void destroy_server();
void create_account(char*,char*);
void login(char*,char*);
void logout();
void validate_track(long,char*);
void submit_score(char*,char*);
void request_scores(long);
void server_update();
////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Globals
extern struct server_struct* server_;
////////////////////////////////////////////////////////////////////////////////////////////////////////////

#endif //SERVER_H